# Руководство пользователя для приложения Slaaaay ML App

## Описание системы
Slaaaay ML App — это удобное приложение для обучения моделей машинного обучения. Оно включает в себя:

1. **Сервис на FastAPI**, который обеспечивает API для взаимодействия с приложением.
2. **Streamlit-приложение**, предоставляющее удобный графический интерфейс для работы с приложением.

Приложение позволяет:
- Решать задачу классификации по изображениям.
- Загружать пользовательские датасеты.
- Выбирать метод обучения (SVC, Logistic Regression, Random Forest).
- Выполнять предсказания по изображениям.
- Просматривать список обученных моделей.
- Удалять ненужные модели.

## Функции приложения
### 1. Обучение
Раздел предназначен для обучения новых моделей:
- Загрузите датасет (поддерживаются файлы в формате ZIP, размером до 200 МБ). Если вы хотите работать с большими датасетами, настройте параметр загрузки для Streamlit с помощью команды:
  ```bash
  streamlit run client.py --server.maxUploadSize 1000
  ```
- Выберите метод обучения (SVC, Logistic Regression, Random Forest).
- Приложение позволяет производить анализ данных (EDA), который включает:
  - Информацию о количестве классов.
  - Количество изображений для обучающего и тестового наборов.
  - Случайные 5 изображений из датасета для визуального представления.
- Запустите процесс обучения.
- После обучения отображается информация о модели, включая метрики (precision, recall, f1-score, support) и визуализацию результатов.

### 2. Предсказание
Этот раздел позволяет загрузить изображение и получить предсказание, определяя, что на нем изображено, исходя из обученной модели:
- Загрузите изображение.
- Выберите модель для предсказания.
- Получите результат с вероятностями для каждого класса.

### 3. Список моделей
В этом разделе отображается список всех обученных моделей с указанием их параметров и метрик. Вы можете выбрать любую модель для дальнейшего использования.

### 4. Удаление моделей
Позволяет удалить ненужные модели для освобождения пространства или обновления результатов.

## Сборка и запуск контейнера

Для работы с приложением необходимо создать Docker-образ и запустить его. Следуйте инструкциям ниже.

### 1. Подготовка окружения

Убедитесь, что у вас установлены:
- **Docker** (https://www.docker.com/).
- Файл `Dockerfile`, содержащий инструкции для сборки образа.
- Файл `requirements.txt` с зависимостями Python.

### 2. Сборка Docker-образа

1. Перейдите в директорию с проектом:
   ```bash
   cd /path/to/project
   ```
2. Соберите Docker-образ:
   ```bash
   docker build -t slaaaay-ml-app .
   ```
   Здесь `slaaaay-ml-app` — имя образа.

### 3. Запуск контейнера

1. Запустите контейнер в интерактивном режиме:
   ```bash
   docker run -d -p 8501:8501 -p 8000:8000 slaaaay-ml-app
   ```
   - Порт `8501` используется для Streamlit.
   - Порт `8000` используется для FastAPI.

2. После запуска откройте в браузере:
   - **Streamlit-приложение:** `http://localhost:8501`
   - **FastAPI-документация:** `http://localhost:8000/docs`

### 4. Остановка контейнера

Для остановки контейнера выполните:
```bash
docker stop <container_id>
```

## Использование приложения

1. **Обучение:**
   - Зайдите в Streamlit-приложение.
   - Выберите раздел "Обучение".
   - Загрузите ваш датасет и настройте параметры обучения.
   - При необходимости активируйте EDA для предварительного анализа данных.
   - Запустите процесс обучения.
   - После завершения обучения проверьте результаты модели (метрики и визуализации).

2. **Предсказание:**
   - Перейдите в раздел "Предсказание".
   - Загрузите изображение для анализа.
   - Выберите обученную модель.
   - Получите предсказание и вероятности для каждого класса.

3. **Список моделей:**
   - Откройте раздел "Список моделей".
   - Получите список уже обученных моделей.

4. **Удаление моделей:**
   - Откройте раздел "Удаление моделей".
   - Удалите все модели и загруженные датасеты из хранилища данных.

## Замечания
- Убедитесь, что ваш датасет корректно подготовлен перед загрузкой (имеет папки train и test, каждая папка имеет структуру подпапок с одинаковыми классами. Папка каласса содержит изображения в формате .png, .jpg, .jpeg).
- При возникновении ошибок проверяйте логи контейнера с помощью команды:
  ```bash
  docker logs <container_id>
  ```

Приложение разработано для упрощения работы с задачами машинного обучения и предоставляет интуитивно понятный интерфейс.
